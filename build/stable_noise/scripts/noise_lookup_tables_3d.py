# Automatically generated from StableNoise.hip #

import math


def silib_noise_range_lookup_3d(rough, octaves):
    octave_n=10
    roughness_n=20
    
    noise_lookuptable_3d = [ 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107,
        0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743,
        0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629,
        0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8322206139564514, 0.7698743343353271, 0.7859299778938293, 0.8412957191467285, 0.7743878364562988, 0.7916032671928406, 0.8503708243370056, 0.7789013981819153, 0.797276496887207, 0.8594459295272827, 0.783414900302887, 0.8200340867042542, 0.8685210347175598, 0.7879284620285034,
        0.8468478322029114, 0.8775961399078369, 0.7981032133102417, 0.8736615777015686, 0.886671245098114, 0.8166190981864929, 0.900475263595581, 0.8957463502883911, 0.8523298501968384, 0.9272890090942383, 0.904821515083313, 0.889087975025177, 0.9541027545928955, 0.9138965606689453, 0.9258460998535156, 0.9809165000915527, 0.9266457557678223, 0.962604284286499, 1.00773024559021, 0.9580742120742798,
        0.9993624091148376, 1.0345439910888672, 0.9895027279853821, 1.0361205339431763, 1.0613577365875244, 1.0209312438964844, 1.0728785991668701, 1.0881714820861816, 1.052359700202942, 1.1096367835998535, 1.1149852275848389, 1.0837881565093994, 1.146394968032837, 1.141798973083496, 1.1152167320251465, 1.1831531524658203, 1.1686127185821533, 1.1466450691223145, 1.2199113368988037, 1.195426344871521,
        1.1780736446380615, 1.2566694021224976, 1.2222400903701782, 1.209502100944519, 1.2934274673461914, 1.2490538358688354, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8325937986373901, 0.7699410915374756, 0.7861531972885132, 0.8427885174751282, 0.7746549248695374, 0.7924962043762207, 0.8537296056747437, 0.779502272605896, 0.7992855310440063, 0.8654171228408813, 0.7844831347465515,
        0.8269397616386414, 0.8778510093688965, 0.7895976305007935, 0.8576380014419556, 0.8910313248634338, 0.7948455214500427, 0.8891993761062622, 0.9049580693244934, 0.8298847079277039, 0.921623945236206, 0.9196311235427856, 0.8677929639816284, 0.9549117684364319, 0.9350507259368896, 0.9066230654716492, 0.9890628457069397, 0.9512165784835815, 0.9546529054641724, 1.02407705783844, 0.9880207777023315,
        1.007102370262146, 1.0599545240402222, 1.0311155319213867, 1.0622470378875732, 1.0966953039169312, 1.0752248764038086, 1.1200870275497437, 1.1342991590499878, 1.1203486919403076, 1.1806223392486572, 1.1737271547317505, 1.1664868593215942, 1.243852972984314, 1.2334452867507935, 1.213639497756958, 1.3097789287567139, 1.294837474822998, 1.2618067264556885, 1.3784000873565674, 1.3579038381576538,
        1.3427402973175049, 1.4497166872024536, 1.4226446151733398, 1.427302360534668, 1.5237284898757935, 1.489059329032898, 1.5151374340057373, 1.6004356145858765, 1.5571485757827759, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8326355218887329, 0.7699882984161377, 0.7861326932907104, 0.8431223034858704, 0.7750324606895447, 0.7923322319984436, 0.8548560738563538, 0.7807765007019043,
        0.7987322211265564, 0.8680872321128845, 0.7875034809112549, 0.8267027139663696, 0.8830660581588745, 0.7954967021942139, 0.8571750521659851, 0.9000429511070251, 0.8050391674041748, 0.8883993625640869, 0.9192681908607483, 0.8290291428565979, 0.9203535914421082, 0.9409920573234558, 0.8665158152580261, 0.9530154466629028, 0.9654650092124939, 0.9048046469688416, 0.9863628149032593, 0.9929370880126953,
        0.9438806772232056, 1.0203733444213867, 1.0236589908599854, 0.9837288856506348, 1.0550248622894287, 1.0578806400299072, 1.02433443069458, 1.0902953147888184, 1.1299415826797485, 1.065682291984558, 1.126162052154541, 1.2173292636871338, 1.1086498498916626, 1.168211579322815, 1.3123866319656372, 1.1613128185272217, 1.2439494132995605, 1.4154980182647705, 1.2304754257202148, 1.3264381885528564,
        1.5270482301712036, 1.314359188079834, 1.4160780906677246, 1.6474220752716064, 1.426601529121399, 1.5132684707641602, 1.7770041227340698, 1.546146035194397, 1.6184096336364746, 1.9161792993545532, 1.6732747554779053, 1.7360173463821411, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.832635760307312, 0.7699878215789795, 0.7861311435699463, 0.8431264162063599, 0.7750248312950134,
        0.7923070788383484, 0.8548768162727356, 0.7807379961013794, 0.7986047267913818, 0.8681528568267822, 0.7873817086219788, 0.8266486525535583, 0.8832262754440308, 0.795199453830719, 0.8570430874824524, 0.9003751873970032, 0.8044228553771973, 0.8881257176399231, 0.919883668422699, 0.8299330472946167, 0.9198467135429382, 0.9420420527458191, 0.8680577874183655, 0.9521507024765015, 0.9671468734741211,
        0.907274603843689, 0.984977662563324, 0.9955005049705505, 0.9476453065872192, 1.0182621479034424, 1.0274120569229126, 0.9892406463623047, 1.051933765411377, 1.063948392868042, 1.0389389991760254, 1.0859174728393555, 1.149376392364502, 1.0927854776382446, 1.1201322078704834, 1.2434700727462769, 1.1494367122650146, 1.162014365196228, 1.3468352556228638, 1.2090792655944824, 1.2654228210449219,
        1.4600931406021118, 1.3099770545959473, 1.381405234336853, 1.5838814973831177, 1.442872166633606, 1.5109354257583618, 1.7188547849655151, 1.6472315788269043, 1.655025601387024, 1.8656831979751587, 1.8804984092712402, 1.8147255182266235, 2.0250539779663086, 2.1406233310699463, 1.9911246299743652, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8326358199119568, 0.7699877619743347,
        0.7861310839653015, 0.8431286811828613, 0.7750232219696045, 0.7923060655593872, 0.85489422082901, 0.78072589635849, 0.7985971570014954, 0.8682261109352112, 0.7873306274414062, 0.8266373872756958, 0.8834497928619385, 0.7950435876846313, 0.8570086359977722, 0.9009314179420471, 0.804034948348999, 0.8880400657653809, 0.9210858941078186, 0.8304309844970703, 0.9196615219116211, 0.9443859457969666,
        0.869028627872467, 0.9517896771430969, 0.9713706374168396, 0.9090241193771362, 0.9843271374702454, 1.0026534795761108, 0.9506080746650696, 1.017160415649414, 1.0389320850372314, 0.9940122365951538, 1.0501594543457031, 1.0809952020645142, 1.039513111114502, 1.0831761360168457, 1.1589100360870361, 1.087435007095337, 1.1161768436431885, 1.2572797536849976, 1.1381539106369019, 1.2021037340164185,
        1.3663336038589478, 1.1921019554138184, 1.3368104696273804, 1.487017273902893, 1.3469244241714478, 1.4913415908813477, 1.620339035987854, 1.5273994207382202, 1.6685551404953003, 1.7673730850219727, 1.7362470626831055, 1.8716118335723877, 1.9292616844177246, 1.9768662452697754, 2.103991746902466, 2.10722017288208, 2.2529296875, 2.369508981704712, 0.8231455087661743, 0.7653607726097107,
        0.7802567481994629, 0.8326358199119568, 0.7699877619743347, 0.7861310839653015, 0.8431285619735718, 0.7750232219696045, 0.7923059463500977, 0.854892909526825, 0.7807257771492004, 0.7985957264900208, 0.8682186007499695, 0.787329912185669, 0.8266041874885559, 0.8834211230278015, 0.7950407266616821, 0.8568819165229797, 0.9008458852767944, 0.8040264844894409, 0.8876617550849915, 0.9208702445030212,
        0.829781711101532, 0.918707549571991, 0.9439054131507874, 0.8675819635391235, 0.9496641159057617, 0.9703963994979858, 0.9060913324356079, 0.9800179600715637, 1.000820279121399, 0.94508957862854, 1.0090519189834595, 1.0356844663619995, 0.9876090884208679, 1.035794734954834, 1.0755213499069214, 1.0404917001724243, 1.0589643716812134, 1.163111925125122, 1.0977120399475098, 1.1198617219924927,
        1.2638344764709473, 1.160353183746338, 1.222236156463623, 1.3762495517730713, 1.2421197891235352, 1.3672666549682617, 1.5016225576400757, 1.4212100505828857, 1.5362004041671753, 1.6413518190383911, 1.634274959564209, 1.7330940961837769, 1.7969821691513062, 1.8868452310562134, 1.9625535011291504, 2.0044968128204346, 2.1851742267608643, 2.229782819747925, 2.323251724243164, 2.536306619644165,
        2.5406317710876465, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8326358199119568, 0.7699877619743347, 0.7861310839653015, 0.8431285619735718, 0.7750232219696045, 0.7923059463500977, 0.8548927307128906, 0.7807255387306213, 0.7985960245132446, 0.8682171106338501, 0.7873279452323914, 0.8266066312789917, 0.8834139108657837, 0.7950313091278076, 0.8568934202194214, 0.9008200168609619,
        0.8039926886558533, 0.8877030611038208, 0.9207940697669983, 0.829755425453186, 0.9188290238380432, 0.9437114596366882, 0.8675150871276855, 0.9499735236167908, 0.9699540138244629, 0.9059388041496277, 0.9807235598564148, 0.9998953938484192, 0.9447706937789917, 1.0105271339416504, 1.0338821411132812, 0.9901870489120483, 1.0386695861816406, 1.0736470222473145, 1.0452319383621216, 1.0642505884170532,
        1.1643550395965576, 1.1060130596160889, 1.104204773902893, 1.2659229040145874, 1.1742984056472778, 1.233407974243164, 1.3796344995498657, 1.252433180809021, 1.3853744268417358, 1.5069407224655151, 1.3874789476394653, 1.5646493434906006, 1.6494812965393066, 1.6039776802062988, 1.7765820026397705, 1.80911123752594, 1.8712893724441528, 2.0274369716644287, 2.0938379764556885, 2.2017054557800293,
        2.3245158195495605, 2.451185703277588, 2.6100590229034424, 2.6762869358062744, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8326358199119568, 0.7699877619743347, 0.7861310839653015, 0.8431285619735718, 0.7750232219696045, 0.7923059463500977, 0.8548927307128906, 0.7807255983352661, 0.7985960245132446, 0.8682173490524292, 0.7873287200927734, 0.8266068696975708, 0.883415162563324,
        0.7950360774993896, 0.8568947315216064, 0.9008254408836365, 0.8040133118629456, 0.8877086043357849, 0.920812726020813, 0.8297118544578552, 0.9188480377197266, 0.9437657594680786, 0.8673882484436035, 0.9500288963317871, 0.970093309879303, 0.9056133031845093, 0.9808656573295593, 1.0002191066741943, 0.9440145492553711, 1.0108572244644165, 1.0345759391784668, 0.9899469614028931, 1.039377212524414,
        1.073599100112915, 1.0447503328323364, 1.0656700134277344, 1.1610749959945679, 1.1050994396209717, 1.115333080291748, 1.2599886655807495, 1.1726455688476562, 1.2535407543182373, 1.3693289756774902, 1.2495628595352173, 1.4203375577926636, 1.4896703958511353, 1.424053430557251, 1.623241662979126, 1.6214313507080078, 1.644336462020874, 1.8717458248138428, 1.8309686183929443, 1.9103835821151733,
        2.177772045135498, 2.1446056365966797, 2.2373852729797363, 2.556206703186035, 2.541221857070923, 2.6638407707214355, 3.0255239009857178, 0.8231455087661743, 0.7653607726097107, 0.7802567481994629, 0.8326358199119568, 0.7699877619743347, 0.7861310839653015, 0.8431285619735718, 0.7750232219696045, 0.7923059463500977, 0.8548927307128906, 0.7807255983352661, 0.7985960245132446, 0.868217408657074,
        0.7873286604881287, 0.8266068696975708, 0.8834155201911926, 0.7950354218482971, 0.856894850730896, 0.9008272886276245, 0.8040099143981934, 0.8877092003822327, 0.9208202362060547, 0.8297041654586792, 0.9188504219055176, 0.9437907338142395, 0.8673627376556396, 0.950036883354187, 0.9701653718948364, 0.9055396318435669, 0.9808886647224426, 1.000405192375183, 0.9438243508338928, 1.0109167098999023,
        1.0350146293640137, 0.9891597628593445, 1.0395174026489258, 1.074559211730957, 1.0430277585983276, 1.0659767389297485, 1.1560100317001343, 1.1015591621398926, 1.1191248893737793, 1.2501204013824463, 1.1657480001449585, 1.2609285116195679, 1.350967288017273, 1.2627499103546143, 1.4340838193893433, 1.4568480253219604, 1.4619494676589966, 1.6478137969970703, 1.6391847133636475, 1.709733009338379,
        1.914149522781372, 1.8991646766662598, 2.019770860671997, 2.24869966506958, 2.233623743057251, 2.409940242767334, 2.671590566635132, 2.7295467853546143, 3.0518364906311035, 3.2086005210876465 ]
    
    if octaves>octave_n:
        octaves=octave_n
    
    octave_idx = (octaves-1)*(roughness_n+1)
    rough_idx = int(math.floor(rough*roughness_n))
    frac = rough*roughness_n - math.floor(rough*roughness_n)
    
    idx = octave_idx + rough_idx
    rough_idx_next = rough_idx+1
    if rough_idx_next==roughness_n+1:
        rough_idx_next = rough_idx
    idx_next = octave_idx + rough_idx_next
  
    idx = 3*idx
    idx_next = 3*idx_next
    
    amp_out = [0,0,0]
    amp_out[0] = (1.0-frac)*noise_lookuptable_3d[idx] + frac*noise_lookuptable_3d[idx_next]
    amp_out[1] = (1.0-frac)*noise_lookuptable_3d[idx+1] + frac*noise_lookuptable_3d[idx_next+1]
    amp_out[2] = (1.0-frac)*noise_lookuptable_3d[idx+2] + frac*noise_lookuptable_3d[idx_next+2]
    return amp_out

def silib_xnoise_range_lookup_3d(rough, octaves):
    octave_n=10
    roughness_n=20
    
    xnoise_lookuptable_3d = [ 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855,
        0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367,
        0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111,
        0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8807131052017212, 0.9023221135139465, 0.8898112773895264, 0.8950635194778442, 0.9089432954788208, 0.9132428765296936, 0.9094139933586121, 0.9155644774436951, 0.9366745352745056, 0.9237644076347351, 0.9221856594085693, 0.9601061344146729, 0.9494504928588867, 0.9288067817687988,
        0.9835377931594849, 0.98280930519104, 0.95551997423172, 1.0069694519042969, 1.0161681175231934, 0.984262228012085, 1.0304011106491089, 1.0495269298553467, 1.0130044221878052, 1.0538326501846313, 1.0828857421875, 1.041746735572815, 1.0772643089294434, 1.1162445545196533, 1.0704889297485352, 1.1006959676742554, 1.1496033668518066, 1.099231243133545, 1.1241276264190674, 1.18296217918396,
        1.1279734373092651, 1.1475592851638794, 1.2163209915161133, 1.1567156314849854, 1.1709909439086914, 1.249679684638977, 1.1854579448699951, 1.1944224834442139, 1.2830384969711304, 1.2142001390457153, 1.2178541421890259, 1.3163973093032837, 1.2429423332214355, 1.242024302482605, 1.349756121635437, 1.2716846466064453, 1.2718186378479004, 1.3831149339675903, 1.300426959991455, 1.3016130924224854,
        1.416473627090454, 1.3291690349578857, 1.3314073085784912, 1.4498324394226074, 1.3603168725967407, 1.3612017631530762, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8798918128013611, 0.9023775458335876, 0.8895578980445862, 0.8917784094810486, 0.9091649651527405, 0.9122292995452881, 0.9020224809646606, 0.9160632491111755, 0.9343940019607544, 0.9106239676475525, 0.9230723977088928,
        0.9560518860816956, 0.9274210929870605, 0.9429301023483276, 0.9772030115127563, 0.9510869979858398, 0.9787794351577759, 0.9978473782539368, 0.9729905128479004, 1.015920877456665, 1.0179849863052368, 0.9931316375732422, 1.0543545484542847, 1.0376156568527222, 1.0115104913711548, 1.0940804481506348, 1.0567396879196167, 1.0281269550323486, 1.1350984573364258, 1.0753569602966309, 1.0475938320159912,
        1.1774088144302368, 1.1102365255355835, 1.0979242324829102, 1.2210111618041992, 1.1627073287963867, 1.1502645015716553, 1.265905737876892, 1.217203140258789, 1.2062230110168457, 1.312092661857605, 1.2737239599227905, 1.2654601335525513, 1.3834328651428223, 1.3322699069976807, 1.342453122138977, 1.465795874595642, 1.39284086227417, 1.424351692199707, 1.5512956380844116, 1.4554369449615479,
        1.5095651149749756, 1.6399321556091309, 1.520058035850525, 1.5980937480926514, 1.7317049503326416, 1.5867040157318115, 1.6899374723434448, 1.8266147375106812, 1.6553752422332764, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8798949718475342, 0.9023718237876892, 0.8895896673202515, 0.8918037414550781, 0.9091190695762634, 0.9124833941459656, 0.9021078944206238, 0.9159082770347595,
        0.9352515935897827, 0.9108264446258545, 0.9227049946784973, 0.958084762096405, 0.9265321493148804, 0.9431465268135071, 0.9811734557151794, 0.9484239816665649, 0.9791534543037415, 1.0047082901000977, 0.9704110026359558, 1.016514778137207, 1.0288798809051514, 0.9925513863563538, 1.0552409887313843, 1.053878664970398, 1.0149030685424805, 1.0953426361083984, 1.0798953771591187, 1.06986403465271,
        1.1368298530578613, 1.1071206331253052, 1.1417696475982666, 1.1797133684158325, 1.1357448101043701, 1.2202850580215454, 1.2327879667282104, 1.1659586429595947, 1.3058356046676636, 1.3236753940582275, 1.202551007270813, 1.3988457918167114, 1.4220616817474365, 1.2648957967758179, 1.4997406005859375, 1.5282477140426636, 1.3895190954208374, 1.6089451313018799, 1.6425336599349976, 1.5241526365280151,
        1.7268840074539185, 1.7652199268341064, 1.6692414283752441, 1.8539820909500122, 1.8966068029403687, 1.825230598449707, 1.990664005279541, 2.036994695663452, 1.9925647974014282, 2.137355327606201, 2.1866841316223145, 2.171689510345459, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8798952102661133, 0.9023740887641907, 0.8895918726921082, 0.8918071389198303, 0.9091554284095764,
        0.9125190377235413, 0.9021249413490295, 0.9160923957824707, 0.9354320764541626, 0.9108803272247314, 0.9232868552207947, 0.9586551189422607, 0.9265494346618652, 0.9432107210159302, 0.9825659394264221, 0.9500285387039185, 0.9792866110801697, 1.0075957775115967, 0.9720208048820496, 1.0167614221572876, 1.0342292785644531, 0.992745578289032, 1.0556617975234985, 1.0630043745040894, 1.012472152709961,
        1.096016764640808, 1.0945130586624146, 1.0390467643737793, 1.1378573179244995, 1.1294002532958984, 1.0950379371643066, 1.1812176704406738, 1.1683645248413086, 1.1628165245056152, 1.2595839500427246, 1.2121577262878418, 1.243894100189209, 1.3605831861495972, 1.2615857124328613, 1.3480982780456543, 1.4717046022415161, 1.3175069093704224, 1.47786283493042, 1.5936676263809204, 1.440691351890564,
        1.6391695737838745, 1.7272223234176636, 1.5903971195220947, 1.8209748268127441, 1.8731496334075928, 1.7536653280258179, 2.025275707244873, 2.0328452587127686, 1.9313414096832275, 2.2541706562042236, 2.270845413208008, 2.1242945194244385, 2.509861946105957, 2.5381550788879395, 2.33341908454895, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8798951506614685, 0.9023742079734802,
        0.8895918130874634, 0.891805112361908, 0.9091594219207764, 0.9125177264213562, 0.9021093845367432, 0.9161229133605957, 0.9354221224784851, 0.9108148217201233, 0.9234155416488647, 0.9586132168769836, 0.9267404675483704, 0.9435806274414062, 0.9824381470680237, 0.9505038857460022, 0.980207085609436, 1.0072777271270752, 0.9730482697486877, 1.0187510251998901, 1.0335419178009033, 0.9947487711906433,
        1.0595407485961914, 1.06166410446167, 1.0160820484161377, 1.1030067205429077, 1.0920979976654053, 1.0451133251190186, 1.1496949195861816, 1.1253101825714111, 1.1065815687179565, 1.200282335281372, 1.1617774963378906, 1.1719346046447754, 1.2555893659591675, 1.201980471611023, 1.2412866353988647, 1.3526614904403687, 1.2463997602462769, 1.3435004949569702, 1.4602298736572266, 1.3472131490707397,
        1.4861143827438354, 1.5774660110473633, 1.5055396556854248, 1.6505635976791382, 1.704850435256958, 1.6902142763137817, 1.8364033699035645, 1.915392279624939, 1.904909610748291, 2.0458083152770996, 2.157543659210205, 2.1536710262298584, 2.281076431274414, 2.434250831604004, 2.440934896469116, 2.5446338653564453, 2.749332904815674, 2.771550416946411, 0.8683347702026367, 0.902241587638855,
        0.8864185810089111, 0.8798951506614685, 0.9023742079734802, 0.8895918130874634, 0.891805112361908, 0.9091596007347107, 0.9125173687934875, 0.9021092653274536, 0.9161249399185181, 0.935417890548706, 0.9108142852783203, 0.9234268069267273, 0.9585895538330078, 0.9268427491188049, 0.9435155391693115, 0.9823479652404785, 0.9508092999458313, 0.9800127148628235, 1.00700843334198, 0.9738184213638306,
        1.0182609558105469, 1.0328627824783325, 0.9964648485183716, 1.0584487915039062, 1.0601508617401123, 1.0195610523223877, 1.1007928848266602, 1.0890302658081055, 1.0493505001068115, 1.1455292701721191, 1.1195378303527832, 1.1140880584716797, 1.1929025650024414, 1.151551365852356, 1.1845868825912476, 1.2445690631866455, 1.184744119644165, 1.2617387771606445, 1.3369719982147217, 1.239133596420288,
        1.346681833267212, 1.4357552528381348, 1.3756916522979736, 1.4700579643249512, 1.5404409170150757, 1.5486217737197876, 1.608413815498352, 1.6584197282791138, 1.7536697387695312, 1.8118237257003784, 1.8293324708938599, 1.9962037801742554, 2.0781784057617188, 2.0241527557373047, 2.282313585281372, 2.3926310539245605, 2.3358559608459473, 2.6188738346099854, 2.7644691467285156, 2.7471861839294434,
        3.0136139392852783, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8798951506614685, 0.9023742079734802, 0.8895918130874634, 0.891805112361908, 0.9091596603393555, 0.9125173687934875, 0.9021090269088745, 0.9161257743835449, 0.9354178309440613, 0.9108123779296875, 0.9234328866004944, 0.9585889577865601, 0.9268637299537659, 0.943514347076416, 0.9823451638221741, 0.9508845210075378,
        0.9800084233283997, 1.0069984197616577, 0.9740397334098816, 1.0182483196258545, 1.032833218574524, 0.9970284104347229, 1.0584166049957275, 1.0600756406784058, 1.0208462476730347, 1.1007193326950073, 1.088858723640442, 1.0507856607437134, 1.1453756093978882, 1.119179129600525, 1.116884708404541, 1.1926031112670898, 1.1508524417877197, 1.18972909450531, 1.2496793270111084, 1.183458924293518,
        1.2707438468933105, 1.3459210395812988, 1.2352259159088135, 1.3701545000076294, 1.4507890939712524, 1.3477294445037842, 1.497638463973999, 1.5648084878921509, 1.503299355506897, 1.6508960723876953, 1.6886000633239746, 1.6824641227722168, 1.8635497093200684, 1.86540687084198, 1.8873566389083862, 2.1658127307891846, 2.077975273132324, 2.1490166187286377, 2.531635284423828, 2.4484317302703857,
        2.5013628005981445, 3.0199384689331055, 2.9083917140960693, 2.927865982055664, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8798951506614685, 0.9023742079734802, 0.8895918130874634, 0.891805112361908, 0.9091596603393555, 0.9125173687934875, 0.9021089673042297, 0.9161257743835449, 0.9354177117347717, 0.9108117818832397, 0.9234327673912048, 0.9585878252983093, 0.9268676042556763,
        0.9435190558433533, 0.9823386073112488, 0.9509012699127197, 0.9800286293029785, 1.0069701671600342, 0.9740972518920898, 1.018317699432373, 1.0327361822128296, 0.997195839881897, 1.0586183071136475, 1.0597933530807495, 1.0212757587432861, 1.1012369394302368, 1.0881344079971313, 1.0506731271743774, 1.146578073501587, 1.1174964904785156, 1.1166434288024902, 1.1951807737350464, 1.1472456455230713,
        1.1892451047897339, 1.2477705478668213, 1.1762239933013916, 1.2752363681793213, 1.342016577720642, 1.2417694330215454, 1.3910002708435059, 1.4437252283096313, 1.3616881370544434, 1.5338398218154907, 1.5525412559509277, 1.5275404453277588, 1.7115633487701416, 1.6680421829223633, 1.723088026046753, 1.9342809915542603, 1.8265200853347778, 1.9533367156982422, 2.2479848861694336, 2.0729894638061523,
        2.2740774154663086, 2.676691770553589, 2.486100435256958, 2.7041683197021484, 3.281529426574707, 3.1144423484802246, 3.262834310531616, 0.8683347702026367, 0.902241587638855, 0.8864185810089111, 0.8798951506614685, 0.9023742079734802, 0.8895918130874634, 0.891805112361908, 0.9091596603393555, 0.9125173687934875, 0.9021089673042297, 0.9161257743835449, 0.9354177117347717, 0.9108119606971741,
        0.9234327673912048, 0.9585878849029541, 0.926866352558136, 0.9435200095176697, 0.9823389649391174, 0.9508948922157288, 0.9800335764884949, 1.0069721937179565, 0.974071741104126, 1.018337607383728, 1.03274405002594, 0.9971110224723816, 1.0586844682693481, 1.0598196983337402, 1.0210310220718384, 1.1014279127120972, 1.0882104635238647, 1.0505956411361694, 1.1470710039138794, 1.1176929473876953,
        1.1164608001708984, 1.196342945098877, 1.147708773612976, 1.1888453960418701, 1.250313639640808, 1.1772373914718628, 1.275701642036438, 1.338792085647583, 1.2464972734451294, 1.3919068574905396, 1.4374428987503052, 1.36884605884552, 1.5355266332626343, 1.5408519506454468, 1.5408588647842407, 1.714578628540039, 1.7012474536895752, 1.746895432472229, 1.9394843578338623, 1.9013384580612183,
        1.9944207668304443, 2.239536762237549, 2.1558706760406494, 2.34432315826416, 2.6629483699798584, 2.620568037033081, 2.820726156234741, 3.313581705093384, 3.2615280151367188, 3.4488167762756348 ]
    
    if octaves>octave_n:
        octaves=octave_n
    
    octave_idx = (octaves-1)*(roughness_n+1)
    rough_idx = int(math.floor(rough*roughness_n))
    frac = rough*roughness_n - math.floor(rough*roughness_n)
    
    idx = octave_idx + rough_idx
    rough_idx_next = rough_idx+1
    if rough_idx_next==roughness_n+1:
        rough_idx_next = rough_idx
    idx_next = octave_idx + rough_idx_next
  
    idx = 3*idx
    idx_next = 3*idx_next
    
    amp_out = [0,0,0]
    amp_out[0] = (1.0-frac)*xnoise_lookuptable_3d[idx] + frac*xnoise_lookuptable_3d[idx_next]
    amp_out[1] = (1.0-frac)*xnoise_lookuptable_3d[idx+1] + frac*xnoise_lookuptable_3d[idx_next+1]
    amp_out[2] = (1.0-frac)*xnoise_lookuptable_3d[idx+2] + frac*xnoise_lookuptable_3d[idx_next+2]
    return amp_out

def silib_onoise_range_lookup_3d(rough, octaves):
    octave_n=10
    roughness_n=20
    
    onoise_lookuptable_3d = [ 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349,
        0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968,
        0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118,
        0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9858711361885071, 0.9245328903198242, 0.9180759787559509, 0.9930911660194397, 0.9262620210647583, 0.9227798581123352, 1.000311255455017, 0.9530512690544128, 0.9313113689422607, 1.0075312852859497, 0.9931623935699463, 0.9484897255897522, 1.0147513151168823, 1.033273458480835,
        0.9656680226325989, 1.0470291376113892, 1.0733845233917236, 0.9828463792800903, 1.0833120346069336, 1.1134955883026123, 1.0158483982086182, 1.119594931602478, 1.1536067724227905, 1.05120050907135, 1.1558778285980225, 1.1937178373336792, 1.086552619934082, 1.1921606063842773, 1.2338289022445679, 1.121904730796814, 1.2284436225891113, 1.2739399671554565, 1.157256841659546, 1.2647264003753662,
        1.3140511512756348, 1.1926089525222778, 1.3010092973709106, 1.3541622161865234, 1.2279610633850098, 1.337292194366455, 1.394273281097412, 1.2633131742477417, 1.3735750913619995, 1.4343843460083008, 1.2986652851104736, 1.409857988357544, 1.4744954109191895, 1.3340173959732056, 1.4461407661437988, 1.5146064758300781, 1.3693695068359375, 1.4824237823486328, 1.5547176599502563, 1.404721736907959,
        1.5187065601348877, 1.5948286056518555, 1.4400737285614014, 1.5549894571304321, 1.6349397897720337, 1.4754258394241333, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9863231182098389, 0.9249228239059448, 0.9185595512390137, 0.9948991537094116, 0.9278218150138855, 0.9245293140411377, 1.0043792724609375, 0.951557457447052, 0.9404593706130981, 1.0147632360458374, 0.9877318739891052,
        0.9647527933120728, 1.0260512828826904, 1.0247882604599, 0.9910790920257568, 1.0458154678344727, 1.0611658096313477, 1.0194382667541504, 1.0816600322723389, 1.0968645811080933, 1.049830436706543, 1.1174372434616089, 1.1318846940994263, 1.082255482673645, 1.1531469821929932, 1.166225790977478, 1.116713285446167, 1.1887892484664917, 1.1998881101608276, 1.1532039642333984, 1.2243642807006836,
        1.232871651649475, 1.2089110612869263, 1.2598717212677002, 1.3037478923797607, 1.2696760892868042, 1.3157787322998047, 1.3817932605743408, 1.3326764106750488, 1.3795894384384155, 1.4634534120559692, 1.397911787033081, 1.4461479187011719, 1.5487287044525146, 1.46538245677948, 1.5154540538787842, 1.6376187801361084, 1.535088300704956, 1.5875078439712524, 1.7301239967346191, 1.6070294380187988,
        1.6623094081878662, 1.8262442350387573, 1.6812057495117188, 1.7398583889007568, 1.9259793758392334, 1.7576172351837158, 1.8201552629470825, 2.029329299926758, 1.8447353839874268, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9862563014030457, 0.9249225854873657, 0.9185605049133301, 0.9943647384643555, 0.9278199672698975, 0.9245787858963013, 1.0025756359100342, 0.9514145255088806,
        0.9408977031707764, 1.0104880332946777, 0.9877275824546814, 0.9657917618751526, 1.0177013874053955, 1.0247799158096313, 0.9931082725524902, 1.0507309436798096, 1.0611512660980225, 1.022944688796997, 1.089465618133545, 1.09684157371521, 1.0553985834121704, 1.1290887594223022, 1.1318503618240356, 1.0905671119689941, 1.1697367429733276, 1.1661769151687622, 1.1285475492477417, 1.2115461826324463,
        1.1998209953308105, 1.1694375276565552, 1.254653811454773, 1.258160948753357, 1.213615894317627, 1.2991957664489746, 1.3240975141525269, 1.3032275438308716, 1.3453086614608765, 1.3958783149719238, 1.4014538526535034, 1.4060981273651123, 1.4737398624420166, 1.508683681488037, 1.4869163036346436, 1.5599011182785034, 1.6253057718276978, 1.581846833229065, 1.6653941869735718, 1.7517086267471313,
        1.7076644897460938, 1.7957669496536255, 1.8882808685302734, 1.842360258102417, 1.9344696998596191, 2.0354111194610596, 1.9862546920776367, 2.0818090438842773, 2.1934876441955566, 2.1396684646606445, 2.2380924224853516, 2.3628997802734375, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9862589836120605, 0.9249201416969299, 0.9185589551925659, 0.9944079518318176, 0.9277811050415039,
        0.924578070640564, 1.0027945041656494, 0.9512989521026611, 0.9411799311637878, 1.011179804801941, 0.9884824156761169, 0.9666838049888611, 1.0193901062011719, 1.0266227722167969, 0.9952860474586487, 1.05011785030365, 1.0649726390838623, 1.0274605751037598, 1.088329792022705, 1.1039211750030518, 1.0637646913528442, 1.1271511316299438, 1.143927812576294, 1.1048393249511719, 1.166633129119873,
        1.1855225563049316, 1.1514089107513428, 1.2068157196044922, 1.229306936264038, 1.2042818069458008, 1.2477279901504517, 1.282867431640625, 1.264350175857544, 1.2893866300582886, 1.3590892553329468, 1.3325891494750977, 1.3652583360671997, 1.4440746307373047, 1.425736904144287, 1.4645187854766846, 1.5385663509368896, 1.5413457155227661, 1.590954065322876, 1.6735738515853882, 1.6683480739593506,
        1.7355663776397705, 1.834369421005249, 1.8074285984039307, 1.8997201919555664, 2.0111138820648193, 1.959291934967041, 2.081679344177246, 2.2051353454589844, 2.1465721130371094, 2.2829906940460205, 2.417823076248169, 2.3964343070983887, 2.5101490020751953, 2.6506295204162598, 2.6758904457092285, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9862588047981262, 0.9249201416969299,
        0.9185590147972107, 0.9944028258323669, 0.927781879901886, 0.9245805740356445, 1.0027555227279663, 0.9512697458267212, 0.9411897659301758, 1.0110152959823608, 0.988370954990387, 0.9667253494262695, 1.018888235092163, 1.0262826681137085, 0.9954127669334412, 1.0504755973815918, 1.0641262531280518, 1.0277758836746216, 1.089103102684021, 1.102091670036316, 1.064446210861206, 1.1286588907241821,
        1.140360951423645, 1.1061681509017944, 1.1693501472473145, 1.1790950298309326, 1.1538035869598389, 1.2114169597625732, 1.2229467630386353, 1.2083371877670288, 1.2551382780075073, 1.2961392402648926, 1.2708812952041626, 1.3008359670639038, 1.3795948028564453, 1.3426800966262817, 1.3488820791244507, 1.4746718406677246, 1.4251151084899902, 1.4585180282592773, 1.5828869342803955, 1.5197094678878784,
        1.6026049852371216, 1.7059260606765747, 1.6420527696609497, 1.7673397064208984, 1.8565075397491455, 1.8271784782409668, 1.9553200006484985, 2.041090726852417, 2.0392916202545166, 2.1693456172943115, 2.2450289726257324, 2.3282182216644287, 2.4281013011932373, 2.470099925994873, 2.6749825477600098, 2.74018931388855, 2.737306833267212, 3.076951026916504, 0.9797557592391968, 0.9228038191795349,
        0.9209085702896118, 0.9862588047981262, 0.9249201416969299, 0.9185590147972107, 0.9944028258323669, 0.9277815818786621, 0.9245802164077759, 1.0027555227279663, 0.951268196105957, 0.9411875605583191, 1.0110156536102295, 0.9883678555488586, 0.9667129516601562, 1.0188894271850586, 1.026270866394043, 0.9953654408454895, 1.050844430923462, 1.0640912055969238, 1.0276345014572144, 1.0900330543518066,
        1.1020030975341797, 1.0640897750854492, 1.1307309865951538, 1.1401636600494385, 1.1053738594055176, 1.1735509634017944, 1.1786952018737793, 1.152193307876587, 1.2193214893341064, 1.229200839996338, 1.2053072452545166, 1.2691415548324585, 1.3072186708450317, 1.26551353931427, 1.3244385719299316, 1.3982691764831543, 1.3336327075958252, 1.3870354890823364, 1.5048588514328003, 1.4104900360107422,
        1.5030319690704346, 1.6299768686294556, 1.49689519405365, 1.6608258485794067, 1.7771632671356201, 1.6452276706695557, 1.8434849977493286, 1.9605412483215332, 1.8318548202514648, 2.0553395748138428, 2.190765142440796, 2.0723471641540527, 2.3153295516967773, 2.455935001373291, 2.3871753215789795, 2.6462135314941406, 2.761826276779175, 2.7565324306488037, 3.0369036197662354, 3.115046501159668,
        3.187889337539673, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9862588047981262, 0.9249201416969299, 0.9185590147972107, 0.9944027662277222, 0.9277815222740173, 0.9245802164077759, 1.0027546882629395, 0.9512676000595093, 0.9411871433258057, 1.0110092163085938, 0.9883665442466736, 0.9667099118232727, 1.0188589096069336, 1.0262646675109863, 0.9953508377075195, 1.050889015197754,
        1.0640690326690674, 1.0275821685791016, 1.0901641845703125, 1.1019378900527954, 1.0639358758926392, 1.131064772605896, 1.1399977207183838, 1.1049818992614746, 1.1743122339248657, 1.1783167123794556, 1.151299238204956, 1.220913052558899, 1.2295514345169067, 1.2034380435943604, 1.2722431421279907, 1.3079019784927368, 1.2618709802627563, 1.330141544342041, 1.39952552318573, 1.326935052871704,
        1.403267741203308, 1.507059097290039, 1.3987610340118408, 1.5187889337539673, 1.633673071861267, 1.4981919527053833, 1.6572530269622803, 1.7958338260650635, 1.6700279712677002, 1.8308162689208984, 2.016465187072754, 1.8937082290649414, 2.043138265609741, 2.276252269744873, 2.2075188159942627, 2.3750813007354736, 2.5834805965423584, 2.5888497829437256, 2.795084238052368, 2.9480490684509277,
        3.0509872436523438, 3.311699390411377, 3.3817126750946045, 3.6095404624938965, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9862588047981262, 0.9249201416969299, 0.9185590147972107, 0.9944027662277222, 0.9277815222740173, 0.9245802164077759, 1.00275456905365, 0.9512676000595093, 0.9411870241165161, 1.011008381843567, 0.9883663058280945, 0.9667089581489563, 1.0188539028167725,
        1.0262631177902222, 0.9953449964523315, 1.0508829355239868, 1.064062237739563, 1.027557134628296, 1.0901432037353516, 1.1019145250320435, 1.0638500452041626, 1.1310038566589355, 1.1399297714233398, 1.1047321557998657, 1.1741559505462646, 1.1781424283981323, 1.150658369064331, 1.2205500602722168, 1.2282531261444092, 1.2019493579864502, 1.2714649438858032, 1.3051190376281738, 1.2586798667907715,
        1.328580617904663, 1.393943190574646, 1.3205338716506958, 1.4110667705535889, 1.4964685440063477, 1.3866171836853027, 1.5328985452651978, 1.6145131587982178, 1.4741907119750977, 1.6817561388015747, 1.8062469959259033, 1.66654372215271, 1.8664436340332031, 2.0339159965515137, 1.9446345567703247, 2.1063504219055176, 2.3045952320098877, 2.290231943130493, 2.4150681495666504, 2.6282553672790527,
        2.719515800476074, 2.7962512969970703, 3.017054319381714, 3.2523648738861084, 3.2802505493164062, 3.485726833343506, 3.9130849838256836, 0.9797557592391968, 0.9228038191795349, 0.9209085702896118, 0.9862588047981262, 0.9249201416969299, 0.9185590147972107, 0.9944027662277222, 0.9277815222740173, 0.9245802164077759, 1.00275456905365, 0.9512676000595093, 0.9411870241165161, 1.011008381843567,
        0.9883662462234497, 0.9667090177536011, 1.0188534259796143, 1.026262640953064, 0.9953453540802002, 1.0508793592453003, 1.0640597343444824, 1.0275589227676392, 1.090129017829895, 1.1019043922424316, 1.063857078552246, 1.1309566497802734, 1.139896035194397, 1.1047554016113281, 1.1740198135375977, 1.1780449151992798, 1.1507253646850586, 1.220198631286621, 1.2275174856185913, 1.2021223306655884,
        1.2706363201141357, 1.3033844232559204, 1.2590878009796143, 1.3267673254013062, 1.3901474475860596, 1.3214266300201416, 1.4048926830291748, 1.4886674880981445, 1.3884520530700684, 1.5208693742752075, 1.5993140935897827, 1.479108214378357, 1.6793763637542725, 1.7715637683868408, 1.687005877494812, 1.9112612009048462, 1.971917986869812, 1.9812116622924805, 2.204037666320801, 2.197606325149536,
        2.3533523082733154, 2.578467607498169, 2.4492974281311035, 2.8250958919525146, 3.0620665550231934, 2.7545394897460938, 3.4241206645965576, 3.6909501552581787, 3.455277442932129, 4.185605525970459 ]
    
    if octaves>octave_n:
        octaves=octave_n
    
    octave_idx = (octaves-1)*(roughness_n+1)
    rough_idx = int(math.floor(rough*roughness_n))
    frac = rough*roughness_n - math.floor(rough*roughness_n)
    
    idx = octave_idx + rough_idx
    rough_idx_next = rough_idx+1
    if rough_idx_next==roughness_n+1:
        rough_idx_next = rough_idx
    idx_next = octave_idx + rough_idx_next
  
    idx = 3*idx
    idx_next = 3*idx_next
    
    amp_out = [0,0,0]
    amp_out[0] = (1.0-frac)*onoise_lookuptable_3d[idx] + frac*onoise_lookuptable_3d[idx_next]
    amp_out[1] = (1.0-frac)*onoise_lookuptable_3d[idx+1] + frac*onoise_lookuptable_3d[idx_next+1]
    amp_out[2] = (1.0-frac)*onoise_lookuptable_3d[idx+2] + frac*onoise_lookuptable_3d[idx_next+2]
    return amp_out

def silib_snoise_range_lookup_3d(rough, octaves):
    octave_n=10
    roughness_n=20
    
    snoise_lookuptable_3d = [ 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885,
        1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887,
        2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064,
        1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.9057577848434448, 2.2431280612945557, 1.8867863416671753, 1.9226495027542114, 2.243614435195923, 1.8986773490905762, 1.9395413398742676, 2.24410080909729, 1.9105682373046875, 1.9564331769943237, 2.2445874214172363, 1.9224591255187988, 1.9733250141143799, 2.2450737953186035,
        1.9343500137329102, 1.9902167320251465, 2.2455601692199707, 1.946241021156311, 2.007108449935913, 2.246046543121338, 1.9581319093704224, 2.024000406265259, 2.246532917022705, 2.030738353729248, 2.0408921241760254, 2.2470192909240723, 2.111677408218384, 2.057784080505371, 2.2475056648254395, 2.1926164627075195, 2.0746757984161377, 2.263519287109375, 2.2735557556152344, 2.0915675163269043,
        2.3332393169403076, 2.35449481010437, 2.10845947265625, 2.4029595851898193, 2.435433864593506, 2.1253511905670166, 2.472679615020752, 2.5163729190826416, 2.142242908477783, 2.5423996448516846, 2.5973119735717773, 2.159134864807129, 2.612119674682617, 2.678251266479492, 2.1760265827178955, 2.681839942932129, 2.759190320968628, 2.2267918586730957, 2.7515602111816406, 2.8401293754577637,
        2.3098502159118652, 2.821280002593994, 2.9210684299468994, 2.392909049987793, 2.891000270843506, 3.002007484436035, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.906221866607666, 2.2434489727020264, 1.8851591348648071, 1.9245058298110962, 2.2448983192443848, 1.892168641090393, 1.9437180757522583, 2.2469897270202637, 1.8959236145019531, 1.9638584852218628, 2.249723196029663,
        1.8964242935180664, 1.9849270582199097, 2.253098487854004, 1.8936705589294434, 2.0069236755371094, 2.257115602493286, 1.887662649154663, 2.029848337173462, 2.261774778366089, 1.9288554191589355, 2.053701639175415, 2.267076015472412, 2.003383159637451, 2.0784826278686523, 2.2730190753936768, 2.0770561695098877, 2.104192018508911, 2.31371808052063, 2.149874210357666, 2.1308295726776123,
        2.408621311187744, 2.2218375205993652, 2.1583950519561768, 2.505922794342041, 2.2929458618164062, 2.1868889331817627, 2.6056227684020996, 2.363199234008789, 2.216310739517212, 2.707720994949341, 2.4325978755950928, 2.290168046951294, 2.8122174739837646, 2.5011415481567383, 2.4411139488220215, 2.91911244392395, 2.568830728530884, 2.6006579399108887, 3.0284059047698975, 2.635664939880371,
        2.7687997817993164, 3.1400978565216064, 2.7016441822052, 2.9455389976501465, 3.2937967777252197, 2.826373815536499, 3.1308765411376953, 3.4693403244018555, 2.994875907897949, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.9062033891677856, 2.2434301376342773, 1.8851940631866455, 1.9243581295013428, 2.2447471618652344, 1.8924483060836792, 1.943219542503357, 2.2464795112609863,
        1.8968675136566162, 1.9626768827438354, 2.248513698577881, 1.8986618518829346, 1.9826191663742065, 2.2507362365722656, 1.898040771484375, 2.0029356479644775, 2.2530338764190674, 1.895214319229126, 2.023515462875366, 2.255293130874634, 1.929305076599121, 2.044248342514038, 2.2574007511138916, 2.004054546356201, 2.0650227069854736, 2.2592430114746094, 2.078011989593506, 2.085728645324707,
        2.326171875, 2.1511852741241455, 2.106254816055298, 2.4251973628997803, 2.2235825061798096, 2.126490354537964, 2.5274429321289062, 2.2952115535736084, 2.146324872970581, 2.632983684539795, 2.366079807281494, 2.237374782562256, 2.741894245147705, 2.4361956119537354, 2.348508358001709, 2.8542490005493164, 2.5055665969848633, 2.5023090839385986, 2.970123052597046, 2.5742008686065674,
        2.6667938232421875, 3.0895912647247314, 2.7963099479675293, 2.8421566486358643, 3.212728261947632, 3.126953601837158, 3.028592109680176, 3.3396079540252686, 3.484555244445801, 3.226294994354248, 3.470306396484375, 3.8701558113098145, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.9062014818191528, 2.243431329727173, 1.8851953744888306, 1.9243272542953491, 2.2447664737701416,
        1.892469882965088, 1.9430631399154663, 2.246577739715576, 1.8969768285751343, 1.9621825218200684, 2.24882435798645, 1.8990074396133423, 1.9814122915267944, 2.251494884490967, 1.898884654045105, 2.0004329681396484, 2.2546069622039795, 1.8969640731811523, 2.0188791751861572, 2.258207321166992, 1.9147326946258545, 2.0363388061523438, 2.2623722553253174, 1.9791946411132812, 2.0523531436920166,
        2.2672066688537598, 2.038191080093384, 2.066418409347534, 2.332470178604126, 2.090492010116577, 2.0779826641082764, 2.4344189167022705, 2.134721517562866, 2.0864484310150146, 2.5405032634735107, 2.169358015060425, 2.091172695159912, 2.650972604751587, 2.232447624206543, 2.210312604904175, 2.766090154647827, 2.3470499515533447, 2.3552489280700684, 2.886134624481201, 2.4702048301696777,
        2.517686367034912, 3.0123350620269775, 2.661323308944702, 2.7519569396972656, 3.23394775390625, 2.8975071907043457, 3.014383316040039, 3.4719862937927246, 3.157313585281372, 3.3166000843048096, 3.727881908416748, 3.498249053955078, 3.6672115325927734, 4.003150463104248, 3.8869681358337402, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.9062014818191528, 2.243431329727173,
        1.885195255279541, 1.924325704574585, 2.2447688579559326, 1.8924673795700073, 1.9430512189865112, 2.246596336364746, 1.8969579935073853, 1.962132215499878, 2.2489025592803955, 1.898927927017212, 1.981258749961853, 2.2517335414886475, 1.8986420631408691, 2.0000507831573486, 2.2552006244659424, 1.8963605165481567, 2.0180530548095703, 2.2594902515411377, 1.9126497507095337, 2.0347282886505127,
        2.264873743057251, 1.9751336574554443, 2.0494508743286133, 2.271714448928833, 2.0308730602264404, 2.0615034103393555, 2.3343734741210938, 2.078098773956299, 2.0700669288635254, 2.4374840259552, 2.1147620677948, 2.0742180347442627, 2.545238971710205, 2.138519763946533, 2.078193426132202, 2.658039093017578, 2.1751177310943604, 2.2011916637420654, 2.7763259410858154, 2.2790842056274414,
        2.362333059310913, 2.9005870819091797, 2.4851133823394775, 2.591381788253784, 3.0313568115234375, 2.71427845954895, 2.8517465591430664, 3.2426810264587402, 2.969212770462036, 3.1471850872039795, 3.4836087226867676, 3.2527406215667725, 3.481724977493286, 3.7431118488311768, 3.5678813457489014, 3.887213706970215, 4.022832870483398, 3.917860746383667, 1.8888659477233887, 2.2426416873931885,
        1.874895453453064, 1.9062014818191528, 2.243431329727173, 1.885195255279541, 1.924325704574585, 2.2447683811187744, 1.8924673795700073, 1.9430516958236694, 2.246591806411743, 1.8969579935073853, 1.9621351957321167, 2.2488765716552734, 1.8989280462265015, 1.9812699556350708, 2.251634120941162, 1.8986425399780273, 2.000084400177002, 2.25490403175354, 1.8963618278503418, 2.0181376934051514,
        2.258742570877075, 1.9135699272155762, 2.034916639328003, 2.2632076740264893, 1.9771839380264282, 2.049832820892334, 2.268336534500122, 2.035029649734497, 2.0622222423553467, 2.339589834213257, 2.0859200954437256, 2.071340322494507, 2.4467251300811768, 2.128618001937866, 2.076364278793335, 2.5608150959014893, 2.1618738174438477, 2.091670274734497, 2.683217763900757, 2.1844704151153564,
        2.2737820148468018, 2.815603017807007, 2.368990898132324, 2.486201286315918, 2.960005044937134, 2.621123790740967, 2.7375376224517822, 3.1188735961914062, 2.9146077632904053, 3.0382330417633057, 3.2951300144195557, 3.2574286460876465, 3.4007978439331055, 3.533952474594116, 3.658865451812744, 3.840061902999878, 3.8127477169036865, 4.129634857177734, 4.4092864990234375, 4.34488582611084,
        4.682055950164795, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.9062014818191528, 2.243431329727173, 1.885195255279541, 1.924325704574585, 2.2447683811187744, 1.8924673795700073, 1.943051815032959, 2.2465920448303223, 1.8969587087631226, 1.9621357917785645, 2.248878240585327, 1.8989330530166626, 1.9812729358673096, 2.2516419887542725, 1.8986661434173584, 2.0000953674316406,
        2.254932165145874, 1.8964464664459229, 2.018169641494751, 2.2588255405426025, 1.9134857654571533, 2.0349981784820557, 2.263418674468994, 1.976969599723816, 2.050018548965454, 2.268817901611328, 2.034540891647339, 2.062610626220703, 2.3378896713256836, 2.084897994995117, 2.0720973014831543, 2.4434118270874023, 2.126626491546631, 2.077756404876709, 2.554722785949707, 2.1582117080688477,
        2.085911273956299, 2.672548770904541, 2.19386887550354, 2.2641072273254395, 2.7976796627044678, 2.3987929821014404, 2.47052001953125, 2.9309542179107666, 2.6694283485412598, 2.7129008769989014, 3.0732319355010986, 2.9904985427856445, 3.0230886936187744, 3.225360870361328, 3.3734376430511475, 3.498020648956299, 3.3905036449432373, 3.831949234008789, 4.087976932525635, 4.033977508544922,
        4.382345676422119, 4.8211870193481445, 5.081447601318359, 5.043931484222412, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.9062014818191528, 2.243431329727173, 1.885195255279541, 1.924325704574585, 2.2447683811187744, 1.8924673795700073, 1.9430519342422485, 2.2465920448303223, 1.896958827972412, 1.9621374607086182, 2.248878240585327, 1.8989337682724, 1.9812829494476318,
        2.2516419887542725, 1.8986706733703613, 2.000138521194458, 2.254932165145874, 1.89646577835083, 2.018317699432373, 2.2588255405426025, 1.9135258197784424, 2.035429000854492, 2.263418674468994, 1.977086067199707, 2.051123857498169, 2.268817663192749, 2.0348398685455322, 2.065178394317627, 2.3365986347198486, 2.085592269897461, 2.077601432800293, 2.4406442642211914, 2.128114938735962,
        2.088796854019165, 2.549171209335327, 2.1611974239349365, 2.099775552749634, 2.6620168685913086, 2.203451633453369, 2.2744669914245605, 2.778625726699829, 2.39847469329834, 2.488511085510254, 2.897864580154419, 2.6688756942749023, 2.7430508136749268, 3.0355403423309326, 2.989572525024414, 3.0495412349700928, 3.2724990844726562, 3.3719334602355957, 3.469909429550171, 3.534740924835205,
        3.829572916030884, 4.044652938842773, 4.143076419830322, 4.378683567047119, 5.142716884613037, 5.229001522064209, 5.0384111404418945, 1.8888659477233887, 2.2426416873931885, 1.874895453453064, 1.9062014818191528, 2.243431329727173, 1.885195255279541, 1.924325704574585, 2.2447683811187744, 1.8924673795700073, 1.9430519342422485, 2.2465920448303223, 1.896958827972412, 1.962137222290039,
        2.248878240585327, 1.8989336490631104, 1.9812816381454468, 2.251641273498535, 1.8986698389053345, 2.000131607055664, 2.2549285888671875, 1.8964612483978271, 2.018289566040039, 2.2588114738464355, 1.913538932800293, 2.0353355407714844, 2.263371467590332, 1.977129578590393, 2.050854206085205, 2.268681526184082, 2.0349655151367188, 2.0644826889038086, 2.336696147918701, 2.085916519165039,
        2.075960874557495, 2.4408740997314453, 2.1288793087005615, 2.085207223892212, 2.5496740341186523, 2.162870168685913, 2.095705986022949, 2.6630501747131348, 2.1974973678588867, 2.282393455505371, 2.7806389331817627, 2.402317762374878, 2.5032596588134766, 2.9016106128692627, 2.6760261058807373, 2.7694144248962402, 3.02447509765625, 3.002354383468628, 3.095036506652832, 3.2445764541625977,
        3.3939907550811768, 3.5397989749908447, 3.488035202026367, 3.8664677143096924, 4.158348083496094, 4.142996311187744, 4.438703536987305, 5.164577960968018, 5.098000526428223, 5.261585235595703 ]
    
    if octaves>octave_n:
        octaves=octave_n
    
    octave_idx = (octaves-1)*(roughness_n+1)
    rough_idx = int(math.floor(rough*roughness_n))
    frac = rough*roughness_n - math.floor(rough*roughness_n)
    
    idx = octave_idx + rough_idx
    rough_idx_next = rough_idx+1
    if rough_idx_next==roughness_n+1:
        rough_idx_next = rough_idx
    idx_next = octave_idx + rough_idx_next
  
    idx = 3*idx
    idx_next = 3*idx_next
    
    amp_out = [0,0,0]
    amp_out[0] = (1.0-frac)*snoise_lookuptable_3d[idx] + frac*snoise_lookuptable_3d[idx_next]
    amp_out[1] = (1.0-frac)*snoise_lookuptable_3d[idx+1] + frac*snoise_lookuptable_3d[idx_next+1]
    amp_out[2] = (1.0-frac)*snoise_lookuptable_3d[idx+2] + frac*snoise_lookuptable_3d[idx_next+2]
    return amp_out

def silib_anoise_range_lookup_3d(rough, octaves):
    octave_n=10
    roughness_n=20
    
    anoise_lookuptable_3d = [ 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809,
        0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474,
        0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221,
        0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9976289868354797, 0.9959283471107483, 1.011854887008667, 1.0181787014007568, 1.0107990503311157, 1.051375389099121, 1.0387283563613892, 1.025669813156128, 1.0908958911895752, 1.0592780113220215, 1.0405404567718506, 1.1304163932800293, 1.0798276662826538, 1.0794360637664795,
        1.1699368953704834, 1.1021265983581543, 1.1237916946411133, 1.209457278251648, 1.1328505277633667, 1.1681472063064575, 1.248977780342102, 1.163574457168579, 1.2125028371810913, 1.2884982824325562, 1.195685625076294, 1.2568583488464355, 1.3280187845230103, 1.2346619367599487, 1.3012139797210693, 1.3675391674041748, 1.273638367652893, 1.3455696105957031, 1.407059669494629, 1.3126146793365479,
        1.389925241470337, 1.446580171585083, 1.3515911102294922, 1.4342807531356812, 1.486100673675537, 1.3905675411224365, 1.4786362648010254, 1.5256211757659912, 1.4295438528060913, 1.5229918956756592, 1.5651416778564453, 1.468520164489746, 1.567347526550293, 1.6046621799468994, 1.5074965953826904, 1.6117030382156372, 1.6441826820373535, 1.5464730262756348, 1.6560585498809814, 1.683703064918518,
        1.5874295234680176, 1.7004141807556152, 1.7232234477996826, 1.6298785209655762, 1.744769811630249, 1.7627439498901367, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9978318214416504, 0.9972295165061951, 1.0118553638458252, 1.0189900398254395, 1.0160036087036133, 1.0513771772384644, 1.0405539274215698, 1.0373802185058594, 1.0908998250961304, 1.0625234842300415, 1.06135892868042,
        1.1304234266281128, 1.0848987102508545, 1.0879400968551636, 1.1699479818344116, 1.1085255146026611, 1.1280181407928467, 1.2094731330871582, 1.1415601968765259, 1.1738998889923096, 1.2489994764328003, 1.1767913103103638, 1.2200164794921875, 1.2885265350341797, 1.2155976295471191, 1.266367793083191, 1.3280545473098755, 1.2558915615081787, 1.312954068183899, 1.3675833940505981, 1.297673225402832,
        1.3597750663757324, 1.4071131944656372, 1.3522175550460815, 1.406830906867981, 1.4466438293457031, 1.4234037399291992, 1.454121470451355, 1.4861754179000854, 1.4981226921081543, 1.5018632411956787, 1.5383492708206177, 1.5763745307922363, 1.5838706493377686, 1.622597336769104, 1.6581593751907349, 1.6691694259643555, 1.7100001573562622, 1.7434768676757812, 1.7577593326568604, 1.8005578517913818,
        1.832327127456665, 1.8496406078338623, 1.894270420074463, 1.9247102737426758, 1.9448131322860718, 1.9911377429962158, 2.0206263065338135, 2.0432770252227783, 2.0911598205566406, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9978358745574951, 0.9972656965255737, 1.0118553638458252, 1.0190225839614868, 1.0162930488586426, 1.0513771772384644, 1.0406639575958252, 1.038356900215149,
        1.0908998250961304, 1.062784194946289, 1.0636740922927856, 1.1304234266281128, 1.0854079723358154, 1.0924618244171143, 1.1699479818344116, 1.111009955406189, 1.1386864185333252, 1.2094731330871582, 1.1511739492416382, 1.190840721130371, 1.2489994764328003, 1.1942583322525024, 1.2453042268753052, 1.2885265350341797, 1.2432043552398682, 1.3023731708526611, 1.3280545473098755, 1.3244731426239014,
        1.3623441457748413, 1.3675833940505981, 1.412866234779358, 1.4255132675170898, 1.4071131944656372, 1.5089503526687622, 1.49217689037323, 1.4466438293457031, 1.6132928133010864, 1.5626314878463745, 1.4861754179000854, 1.726460337638855, 1.637173056602478, 1.5383814573287964, 1.8490203619003296, 1.716098427772522, 1.635063886642456, 1.9815396070480347, 1.79970383644104, 1.773256540298462,
        2.1245851516723633, 1.9051238298416138, 1.9235801696777344, 2.278724193572998, 2.037044048309326, 2.086669683456421, 2.444523334503174, 2.2188479900360107, 2.2631616592407227, 2.6225502490997314, 2.4165377616882324, 2.4536919593811035, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9978367686271667, 0.9972659349441528, 1.0118553638458252, 1.0190372467041016, 1.0162965059280396,
        1.0513776540756226, 1.0407379865646362, 1.0383741855621338, 1.09090256690979, 1.0630182027816772, 1.0637286901474, 1.130431890487671, 1.0859792232513428, 1.092595100402832, 1.1699687242507935, 1.1120036840438843, 1.1408488750457764, 1.209516167640686, 1.1530150175094604, 1.1948468685150146, 1.2490793466567993, 1.1973990201950073, 1.252138614654541, 1.2886626720428467, 1.245498538017273,
        1.313320517539978, 1.3282727003097534, 1.3247249126434326, 1.379029631614685, 1.3679158687591553, 1.413234829902649, 1.4499424695968628, 1.407599925994873, 1.509472370147705, 1.5267759561538696, 1.4473330974578857, 1.6140117645263672, 1.610286831855774, 1.4871248006820679, 1.727427363395691, 1.7012720108032227, 1.599165678024292, 1.8502947092056274, 1.800568699836731, 1.7956833839416504,
        1.983189344406128, 1.9090538024902344, 2.0163745880126953, 2.126687526702881, 2.027643918991089, 2.263582468032837, 2.2813668251037598, 2.157296657562256, 2.539769172668457, 2.4478039741516113, 2.3267910480499268, 2.8475115299224854, 2.626577854156494, 2.5490636825561523, 3.1895055770874023, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9978367686271667, 0.9972659349441528,
        1.0118553638458252, 1.0190373659133911, 1.016296625137329, 1.0513781309127808, 1.0407390594482422, 1.0383752584457397, 1.090906023979187, 1.0630228519439697, 1.0637331008911133, 1.130446434020996, 1.0859932899475098, 1.0926085710525513, 1.1700129508972168, 1.1122825145721436, 1.1408755779266357, 1.2096261978149414, 1.1536176204681396, 1.1949045658111572, 1.2493172883987427, 1.1985738277435303,
        1.2522510290145874, 1.2891265153884888, 1.2476156949996948, 1.3135231733322144, 1.3291085958480835, 1.331376075744629, 1.3793727159500122, 1.3693314790725708, 1.423946499824524, 1.4504951238632202, 1.4098798036575317, 1.5260224342346191, 1.5276297330856323, 1.4508557319641113, 1.638706922531128, 1.6115608215332031, 1.4934654235839844, 1.7631986141204834, 1.7031174898147583, 1.6155133247375488,
        1.9008015394210815, 1.803174376487732, 1.8187651634216309, 2.052931308746338, 1.9126518964767456, 2.0482468605041504, 2.221123695373535, 2.081509828567505, 2.3067402839660645, 2.407043933868408, 2.3839027881622314, 2.5972042083740234, 2.6124918460845947, 2.7347240447998047, 2.92277455329895, 2.9118146896362305, 3.140594244003296, 3.2867722511291504, 0.9770793318748474, 0.9810576438903809,
        0.9883032441139221, 0.9978367686271667, 0.9972659349441528, 1.0118553638458252, 1.0190373659133911, 1.016296625137329, 1.0513781309127808, 1.0407395362854004, 1.0383753776550293, 1.090906023979187, 1.063025712966919, 1.0637338161468506, 1.1304465532302856, 1.0860042572021484, 1.0926111936569214, 1.1700135469436646, 1.1123325824737549, 1.1408755779266357, 1.2096279859542847, 1.153743863105774,
        1.1949045658111572, 1.2493219375610352, 1.1988551616668701, 1.2522510290145874, 1.2891368865966797, 1.2505943775177002, 1.3135231733322144, 1.3291295766830444, 1.337580919265747, 1.3793727159500122, 1.3693710565567017, 1.434938669204712, 1.4504951238632202, 1.4099498987197876, 1.544549822807312, 1.5276297330856323, 1.4509738683700562, 1.6686562299728394, 1.6115608215332031, 1.4948205947875977,
        1.8099178075790405, 1.7031174898147583, 1.644590973854065, 1.97147798538208, 1.803174376487732, 1.8627536296844482, 2.1570303440093994, 1.9126518964767456, 2.113037347793579, 2.37089204788208, 2.179173707962036, 2.3999550342559814, 2.6180825233459473, 2.5203936100006104, 2.728553056716919, 2.9044013023376465, 2.9289965629577637, 3.104456901550293, 3.3521976470947266, 3.4173471927642822,
        3.533928155899048, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9978367686271667, 0.9972659349441528, 1.0118553638458252, 1.0190373659133911, 1.016296625137329, 1.0513781309127808, 1.040739893913269, 1.0383753776550293, 1.0909061431884766, 1.063028335571289, 1.0637339353561401, 1.130447268486023, 1.0860165357589722, 1.0926119089126587, 1.1700166463851929, 1.1123511791229248,
        1.1408799886703491, 1.209639310836792, 1.1537984609603882, 1.1949174404144287, 1.2493550777435303, 1.1989942789077759, 1.2522838115692139, 1.2892214059829712, 1.2513107061386108, 1.3135977983474731, 1.329322338104248, 1.339078664779663, 1.3795287609100342, 1.3697742223739624, 1.4378573894500732, 1.4507993459701538, 1.4107354879379272, 1.5499166250228882, 1.5281890630722046, 1.452418327331543,
        1.6780545711517334, 1.612540364265442, 1.5016247034072876, 1.8257063627243042, 1.7047629356384277, 1.667601466178894, 1.9970688819885254, 1.8058414459228516, 1.900050163269043, 2.1972358226776123, 1.9277671575546265, 2.171633720397949, 2.432351589202881, 2.229346752166748, 2.4895269870758057, 2.7097792625427246, 2.5952510833740234, 2.8621933460235596, 3.038282871246338, 3.0750572681427,
        3.2995784282684326, 3.4378700256347656, 3.7976715564727783, 3.8133368492126465, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9978367686271667, 0.9972659349441528, 1.0118553638458252, 1.0190373659133911, 1.016296625137329, 1.0513781309127808, 1.040739893913269, 1.0383753776550293, 1.0909062623977661, 1.0630284547805786, 1.0637339353561401, 1.1304484605789185, 1.0860174894332886,
        1.0926119089126587, 1.1700239181518555, 1.1123520135879517, 1.1408878564834595, 1.2096704244613647, 1.1538013219833374, 1.1949445009231567, 1.2494618892669678, 1.1990026235580444, 1.2523627281188965, 1.2895323038101196, 1.2513433694839478, 1.3138000965118408, 1.3301200866699219, 1.3391544818878174, 1.379998803138733, 1.3716274499893188, 1.438019871711731, 1.451806902885437, 1.414708137512207,
        1.55024254322052, 1.5302101373672485, 1.4603869915008545, 1.6786727905273438, 1.6163744926452637, 1.5192012786865234, 1.8268249034881592, 1.7116996049880981, 1.6769503355026245, 1.9990113973617554, 1.817887783050537, 1.9162856340408325, 2.200490951538086, 1.9483180046081543, 2.1988415718078613, 2.437638759613037, 2.239722967147827, 2.533717393875122, 2.7181315422058105, 2.626497983932495,
        2.9320030212402344, 3.1238651275634766, 3.154550313949585, 3.4071667194366455, 3.788982391357422, 3.917494773864746, 3.97550892829895, 0.9770793318748474, 0.9810576438903809, 0.9883032441139221, 0.9978367686271667, 0.9972659349441528, 1.0118553638458252, 1.0190373659133911, 1.016296625137329, 1.0513781309127808, 1.040739893913269, 1.0383753776550293, 1.0909062623977661, 1.0630284547805786,
        1.0637339353561401, 1.1304484605789185, 1.0860178470611572, 1.0926119089126587, 1.1700241565704346, 1.1123543977737427, 1.1408878564834595, 1.2096714973449707, 1.153810977935791, 1.1949445009231567, 1.2494661808013916, 1.1990346908569336, 1.2523627281188965, 1.2895464897155762, 1.2513433694839478, 1.3138000965118408, 1.3301610946655273, 1.3391544818878174, 1.379998803138733, 1.3717334270477295,
        1.438019871711731, 1.451806902885437, 1.4149580001831055, 1.55024254322052, 1.5302101373672485, 1.4609336853027344, 1.6786727905273438, 1.6163744926452637, 1.5243490934371948, 1.8268249034881592, 1.7116996049880981, 1.6936490535736084, 1.9990113973617554, 1.817887783050537, 1.9473563432693481, 2.200490951538086, 1.9483180046081543, 2.2543821334838867, 2.437638759613037, 2.2510411739349365,
        2.6295626163482666, 2.7181315422058105, 2.645429849624634, 3.0923211574554443, 3.151995897293091, 3.154550313949585, 3.6679697036743164, 3.9111368656158447, 3.961589813232422, 4.389317989349365 ]
    
    if octaves>octave_n:
        octaves=octave_n
    
    octave_idx = (octaves-1)*(roughness_n+1)
    rough_idx = int(math.floor(rough*roughness_n))
    frac = rough*roughness_n - math.floor(rough*roughness_n)
    
    idx = octave_idx + rough_idx
    rough_idx_next = rough_idx+1
    if rough_idx_next==roughness_n+1:
        rough_idx_next = rough_idx
    idx_next = octave_idx + rough_idx_next
  
    idx = 3*idx
    idx_next = 3*idx_next
    
    amp_out = [0,0,0]
    amp_out[0] = (1.0-frac)*anoise_lookuptable_3d[idx] + frac*anoise_lookuptable_3d[idx_next]
    amp_out[1] = (1.0-frac)*anoise_lookuptable_3d[idx+1] + frac*anoise_lookuptable_3d[idx_next+1]
    amp_out[2] = (1.0-frac)*anoise_lookuptable_3d[idx+2] + frac*anoise_lookuptable_3d[idx_next+2]
    return amp_out
